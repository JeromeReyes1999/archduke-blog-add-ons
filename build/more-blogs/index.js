(()=>{"use strict";var e,s={616:()=>{const e=window.wp.blocks,s=window.wp.element,r=window.wp.data,t=window.wp.blockEditor,a=window.wp.coreData,l=window.wp.components,n=window.ReactJSXRuntime,o=JSON.parse('{"UU":"create-block/more-blogs"}');(0,e.registerBlockType)(o.UU,{edit:function(){const e=(0,t.useBlockProps)(),[o,i]=(0,s.useState)(1),{posts:d,totalItems:c,totalPages:p,isLoading:h}=(0,r.useSelect)((e=>{const s={per_page:3,status:"publish",offset:3*(o-1)+1,show_in_rest:!0,_embed:!0},r=e(a.store).getEntityRecords("postType","post",s),t=e(a.store).getEntityRecordsTotalItems("postType","post",s);return{posts:r,totalItems:t,totalPages:t?Math.ceil((t-1)/3):1,isLoading:!e(a.store).hasFinishedResolution("getEntityRecords",["postType","post",s])}}),[o]);return h?(0,n.jsx)(l.Spinner,{}):d&&0!==d.length?(0,n.jsx)("div",{...e,children:(0,n.jsxs)("div",{className:"more-posts",children:[(0,n.jsx)("h2",{className:"grid-title",children:"Discover More"}),(0,n.jsx)("div",{className:"post-grid",children:d.map((e=>{const s=e.title?.rendered||"(No title)",r=new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),t=e.meta?.read_time||null,a=null!=t?Math.round(parseFloat(t)):null,l=e.link,o=(e.excerpt?.rendered||"").replace(/\[&hellip;\]/g,"").replace(/<[^>]+>/g,"").split(/\s+/).slice(0,20).join(" ")+"…",i=e._embedded?.["wp:term"]?.[0]?.map((e=>e.name))||[],d=e._embedded?.["wp:featuredmedia"]?.[0]?.source_url||null;return(0,n.jsx)("article",{className:"post-card",children:(0,n.jsxs)("a",{href:l,target:"_blank",rel:"noopener noreferrer",children:[d&&(0,n.jsx)("div",{className:"post-thumb",children:(0,n.jsx)("img",{className:"featured-img",src:d,alt:s})}),(0,n.jsxs)("div",{className:"post-body",children:[(0,n.jsx)("div",{className:"categories",children:(0,n.jsx)("ul",{className:"category-badges",children:i.map(((e,s)=>(0,n.jsx)("li",{className:"category-badge",children:e})))})}),(0,n.jsx)("h2",{className:"title",children:s}),null!==a&&(0,n.jsxs)("div",{className:"read-time",children:[a<1?"< 1":a," min read"]}),(0,n.jsx)("div",{className:"date",children:r}),(0,n.jsx)("div",{className:"excerpt",children:o})]})]})},e.id)}))}),(0,n.jsxs)("ul",{className:"page-numbers",children:[(0,n.jsx)("li",{children:(0,n.jsx)(l.Button,{className:"prev page-numbers "+(1===o?"hidden":""),onClick:()=>i((e=>Math.max(1,e-1))),children:"‹"})}),Array.from({length:p},((e,s)=>{const r=s+1;return(0,n.jsx)("li",{children:(0,n.jsx)(l.Button,{className:"page-numbers "+(o===r?"current":""),disabled:o===r,onClick:()=>i(r),children:r})})})),(0,n.jsx)("li",{children:(0,n.jsx)(l.Button,{className:"next page-numbers "+(o===p?"hidden":""),onClick:()=>i((e=>e+1)),children:"›"})})]})]})}):(0,n.jsx)("p",{...e,children:"No posts found."})}})}},r={};function t(e){var a=r[e];if(void 0!==a)return a.exports;var l=r[e]={exports:{}};return s[e](l,l.exports,t),l.exports}t.m=s,e=[],t.O=(s,r,a,l)=>{if(!r){var n=1/0;for(c=0;c<e.length;c++){for(var[r,a,l]=e[c],o=!0,i=0;i<r.length;i++)(!1&l||n>=l)&&Object.keys(t.O).every((e=>t.O[e](r[i])))?r.splice(i--,1):(o=!1,l<n&&(n=l));if(o){e.splice(c--,1);var d=a();void 0!==d&&(s=d)}}return s}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[r,a,l]},t.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{var e={293:0,385:0};t.O.j=s=>0===e[s];var s=(s,r)=>{var a,l,[n,o,i]=r,d=0;if(n.some((s=>0!==e[s]))){for(a in o)t.o(o,a)&&(t.m[a]=o[a]);if(i)var c=i(t)}for(s&&s(r);d<n.length;d++)l=n[d],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(c)},r=globalThis.webpackChunkarchduke_blog_add_ons=globalThis.webpackChunkarchduke_blog_add_ons||[];r.forEach(s.bind(null,0)),r.push=s.bind(null,r.push.bind(r))})();var a=t.O(void 0,[385],(()=>t(616)));a=t.O(a)})();